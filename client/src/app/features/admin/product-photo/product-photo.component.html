<h2 mat-dialog-title>{{ data.title }}</h2>
<mat-dialog-content class="p-3">
  <form [formGroup]="productForm" class="p-4 w-full" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="file-upload" class="block text-sm font-medium">
        Upload Picture
      </label>
      <input
        type="file"
        name="file-upload"
        formControlName="pictureUrl"
        ng2FileSelect
        [uploader]="uploader"
        class="block w-full text-sm"
      />
    </div>

    <div *ngIf="imageUrl" class="mt-3">
      <p>Preview:</p>
      <img
        [src]="imageUrl"
        alt="Uploaded Image"
        class="h-32 w-32 object-cover"
      />
    </div>

    <div class="flex justify-end gap-3">
      <button mat-button color="warn" type="button" mat-dialog-close>
        Cancel
      </button>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="productForm.invalid || isLoading"
        class="flex items-center gap-2"
      >
        <span *ngIf="isLoading">
          <mat-spinner diameter="20" strokeWidth="3"></mat-spinner>
        </span>
        <span *ngIf="!isLoading">Submit</span>
      </button>
    </div>
  </form>
</mat-dialog-content>
